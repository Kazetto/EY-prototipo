<!DOCTYPE html>
<html>
<head>
  <title>Login e Autenticação com Firebase</title>
  <!-- Inclua o Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-auth.js"></script>
  <script>
    // Configure o SDK do Firebase com suas credenciais
    var firebaseConfig = {
      apiKey: "AIzaSyB41DJ0DWEoJb8P5OQPIYTFHO9g4JHAQo8",
      authDomain: "everymind-proto.firebaseapp.com",
      projectId: "everymind-proto",
      storageBucket: "everymind-proto.appspot.com"
    };
    firebase.initializeApp(firebaseConfig);

    // Função de criação de conta
    function criarConta() {
      var email = document.getElementById("newEmail").value;
      var password = document.getElementById("newPassword").value;

      // Cria uma nova conta de usuário no Firebase Auth
      firebase.auth().createUserWithEmailAndPassword(email, password)
        .then(function(userCredential) {
          var user = userCredential.user;
          document.getElementById("createAccountStatus").innerHTML = "Conta criada: " + user.email;
        })
        .catch(function(error) {
          var errorMessage = error.message;
          document.getElementById("createAccountStatus").innerHTML = "Erro ao criar conta: " + errorMessage;
        });
    }

    // Função de login
    function login() {
      var email = document.getElementById("email").value;
      var password = document.getElementById("password").value;

      // Realiza o login com o Firebase Auth
      firebase.auth().signInWithEmailAndPassword(email, password)
        .then(function(userCredential) {
          var user = userCredential.user;
          //document.getElementById("loginStatus").innerHTML = "Usuário conectado: " + user.email;
        })
        .catch(function(error) {
          var errorMessage = error.message;
          document.getElementById("loginStatus").innerHTML = "Erro de login: " + errorMessage;
        });
    }
  </script>
</head>
<body>
  <h1>Login e Autenticação com Firebase</h1>
  
  <h2>Criar Conta</h2>
  <label for="newEmail">Email:</label>
  <input type="email" id="newEmail" required><br>
  <label for="newPassword">Senha:</label>
  <input type="password" id="newPassword" required><br>
  <button onclick="criarConta()">Criar Conta</button>
  <p id="createAccountStatus"></p>

  <h2>Login</h2>
  <label for="email">Email:</label>
  <input type="email" id="email" required><br>
  <label for="password">Senha:</label>
  <input type="password" id="password" required><br>
  <button onclick="login()">Entrar</button>
  <p id="loginStatus"></p>
</body>
</html>
